EESchema Schematic File Version 2
LIBS:power
LIBS:device
LIBS:transistors
LIBS:conn
LIBS:linear
LIBS:regul
LIBS:74xx
LIBS:cmos4000
LIBS:adc-dac
LIBS:memory
LIBS:xilinx
LIBS:special
LIBS:microcontrollers
LIBS:dsp
LIBS:microchip
LIBS:analog_switches
LIBS:motorola
LIBS:texas
LIBS:intel
LIBS:audio
LIBS:interface
LIBS:digital-audio
LIBS:philips
LIBS:display
LIBS:cypress
LIBS:siliconi
LIBS:opto
LIBS:atmel
LIBS:contrib
LIBS:valves
LIBS:aalborg_mfc_interface
LIBS:aalborg_mfc_interface-cache
EELAYER 25 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 1 1
Title "aalborg_mfc_interface"
Date ""
Rev "1.0"
Comp "Janelia"
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
$Comp
L ARDUINO_MEGA_SHIELD_FULL SHIELD1
U 1 1 5474AAA1
P 3250 3500
F 0 "SHIELD1" H 3300 6250 60  0000 C CNN
F 1 "ARDUINO_MEGA_SHIELD_FULL" H 3150 800 60  0000 C CNN
F 2 "" H 3250 3500 60  0000 C CNN
F 3 "" H 3250 3500 60  0000 C CNN
	1    3250 3500
	1    0    0    -1  
$EndComp
NoConn ~ 2100 1450
NoConn ~ 2100 1650
$Comp
L +5V #PWR?
U 1 1 5474AD6E
P 1600 1400
F 0 "#PWR?" H 1600 1490 20  0001 C CNN
F 1 "+5V" H 1600 1490 30  0000 C CNN
F 2 "" H 1600 1400 60  0000 C CNN
F 3 "" H 1600 1400 60  0000 C CNN
	1    1600 1400
	1    0    0    -1  
$EndComp
$Comp
L PWR_FLAG #FLG?
U 1 1 5474AD82
P 1450 1400
F 0 "#FLG?" H 1450 1495 30  0001 C CNN
F 1 "PWR_FLAG" H 1450 1580 30  0000 C CNN
F 2 "" H 1450 1400 60  0000 C CNN
F 3 "" H 1450 1400 60  0000 C CNN
	1    1450 1400
	1    0    0    -1  
$EndComp
Wire Wire Line
	1450 1400 1450 1750
Wire Wire Line
	1450 1750 2100 1750
Wire Wire Line
	1600 1400 1600 1750
Connection ~ 1600 1750
$Comp
L GND #PWR?
U 1 1 5474ADAC
P 1600 2000
F 0 "#PWR?" H 1600 2000 30  0001 C CNN
F 1 "GND" H 1600 1930 30  0001 C CNN
F 2 "" H 1600 2000 60  0000 C CNN
F 3 "" H 1600 2000 60  0000 C CNN
	1    1600 2000
	1    0    0    -1  
$EndComp
Wire Wire Line
	2100 1850 1600 1850
Wire Wire Line
	1600 1850 1600 2000
Wire Wire Line
	2100 1950 1600 1950
Connection ~ 1600 1950
NoConn ~ 2100 2250
NoConn ~ 2100 2350
NoConn ~ 2100 2450
NoConn ~ 2100 2550
NoConn ~ 2100 2650
NoConn ~ 2100 2750
NoConn ~ 2100 2850
NoConn ~ 2100 2950
NoConn ~ 2100 3150
NoConn ~ 2100 3250
NoConn ~ 2100 3350
NoConn ~ 2100 3450
NoConn ~ 2100 3550
NoConn ~ 2100 3650
NoConn ~ 2100 3750
NoConn ~ 2100 3850
NoConn ~ 2100 4100
NoConn ~ 2100 4200
NoConn ~ 2100 4350
NoConn ~ 2100 5000
NoConn ~ 2100 5100
NoConn ~ 2100 5200
NoConn ~ 2100 5300
NoConn ~ 2100 5400
NoConn ~ 2100 5500
NoConn ~ 2100 5650
NoConn ~ 2100 5750
NoConn ~ 2100 5850
NoConn ~ 2100 5950
NoConn ~ 4300 950 
NoConn ~ 4300 1050
NoConn ~ 4300 1150
NoConn ~ 4300 1250
NoConn ~ 4300 1350
NoConn ~ 4300 1450
NoConn ~ 4300 1550
NoConn ~ 4300 1650
NoConn ~ 4300 1750
NoConn ~ 4300 1850
NoConn ~ 4300 2050
NoConn ~ 4300 2150
NoConn ~ 4300 2250
NoConn ~ 4300 2350
NoConn ~ 4300 2650
NoConn ~ 4300 2750
NoConn ~ 4300 3050
NoConn ~ 4300 3150
NoConn ~ 4300 3250
NoConn ~ 4300 3350
NoConn ~ 4300 3550
NoConn ~ 4300 3650
NoConn ~ 4300 3900
NoConn ~ 4300 4000
NoConn ~ 4300 4550
NoConn ~ 4300 4650
NoConn ~ 4300 4750
NoConn ~ 4300 4850
NoConn ~ 4300 5000
NoConn ~ 4300 5100
NoConn ~ 4300 5200
NoConn ~ 4300 5300
NoConn ~ 4300 5400
NoConn ~ 4300 5500
NoConn ~ 4300 5600
NoConn ~ 4300 5700
$Comp
L DB15 J1
U 1 1 5474C4BF
P 9600 1850
F 0 "J1" H 9620 2700 70  0000 C CNN
F 1 "MFCA" H 9550 1000 70  0000 C CNN
F 2 "" H 9600 1850 60  0000 C CNN
F 3 "" H 9600 1850 60  0000 C CNN
	1    9600 1850
	1    0    0    -1  
$EndComp
$Comp
L CONN_01X02 P1
U 1 1 5474C631
P 5700 1000
F 0 "P1" H 5700 1150 50  0000 C CNN
F 1 "+24VDC" V 5800 1000 50  0000 C CNN
F 2 "" H 5700 1000 60  0000 C CNN
F 3 "" H 5700 1000 60  0000 C CNN
	1    5700 1000
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR?
U 1 1 5474C6BF
P 5400 1150
F 0 "#PWR?" H 5400 1150 30  0001 C CNN
F 1 "GND" H 5400 1080 30  0001 C CNN
F 2 "" H 5400 1150 60  0000 C CNN
F 3 "" H 5400 1150 60  0000 C CNN
	1    5400 1150
	1    0    0    -1  
$EndComp
$Comp
L VAA #PWR?
U 1 1 5474C6E7
P 5400 850
F 0 "#PWR?" H 5400 910 30  0001 C CNN
F 1 "VAA" H 5400 960 30  0000 C CNN
F 2 "" H 5400 850 60  0000 C CNN
F 3 "" H 5400 850 60  0000 C CNN
	1    5400 850 
	1    0    0    -1  
$EndComp
$Comp
L PWR_FLAG #FLG?
U 1 1 5474C703
P 5250 850
F 0 "#FLG?" H 5250 945 30  0001 C CNN
F 1 "PWR_FLAG" H 5250 1030 30  0000 C CNN
F 2 "" H 5250 850 60  0000 C CNN
F 3 "" H 5250 850 60  0000 C CNN
	1    5250 850 
	1    0    0    -1  
$EndComp
$Comp
L PWR_FLAG #FLG?
U 1 1 5474C71B
P 5050 950
F 0 "#FLG?" H 5050 1045 30  0001 C CNN
F 1 "PWR_FLAG" H 5050 1130 30  0000 C CNN
F 2 "" H 5050 950 60  0000 C CNN
F 3 "" H 5050 950 60  0000 C CNN
	1    5050 950 
	1    0    0    -1  
$EndComp
Wire Wire Line
	5250 950  5500 950 
Wire Wire Line
	5250 950  5250 850 
Wire Wire Line
	5400 850  5400 950 
Connection ~ 5400 950 
Wire Wire Line
	5050 1050 5500 1050
Wire Wire Line
	5050 1050 5050 950 
Wire Wire Line
	5400 1050 5400 1150
Connection ~ 5400 1050
$Comp
L GND #PWR?
U 1 1 5474C92F
P 9100 2800
F 0 "#PWR?" H 9100 2800 30  0001 C CNN
F 1 "GND" H 9100 2730 30  0001 C CNN
F 2 "" H 9100 2800 60  0000 C CNN
F 3 "" H 9100 2800 60  0000 C CNN
	1    9100 2800
	1    0    0    -1  
$EndComp
NoConn ~ 2100 1550
NoConn ~ 2100 4450
NoConn ~ 2100 4550
NoConn ~ 2100 4650
NoConn ~ 2100 4800
NoConn ~ 2100 4900
Wire Wire Line
	2100 2050 1750 2050
Text Label 1750 2050 0    60   ~ 0
V_IN
$Comp
L CONN_01X03 P2
U 1 1 547CAB9D
P 6150 7450
F 0 "P2" H 6150 7650 50  0000 C CNN
F 1 "DISPLAY" V 6250 7450 50  0000 C CNN
F 2 "" H 6150 7450 60  0000 C CNN
F 3 "" H 6150 7450 60  0000 C CNN
	1    6150 7450
	-1   0    0    1   
$EndComp
Wire Wire Line
	6350 7550 6450 7550
Text Label 6450 7550 0    60   ~ 0
TX3
$Comp
L C C3
U 1 1 547CACBC
P 6750 7150
F 0 "C3" H 6750 7250 40  0000 L CNN
F 1 "10uF" H 6756 7065 40  0000 L CNN
F 2 "" H 6788 7000 30  0000 C CNN
F 3 "" H 6750 7150 60  0000 C CNN
	1    6750 7150
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR?
U 1 1 547CAD2F
P 6750 7600
F 0 "#PWR?" H 6750 7600 30  0001 C CNN
F 1 "GND" H 6750 7530 30  0001 C CNN
F 2 "" H 6750 7600 60  0000 C CNN
F 3 "" H 6750 7600 60  0000 C CNN
	1    6750 7600
	1    0    0    -1  
$EndComp
Wire Wire Line
	6750 7350 6750 7600
Wire Wire Line
	6350 7450 6750 7450
Connection ~ 6750 7450
$Comp
L +5V #PWR?
U 1 1 547CAD87
P 6450 6850
F 0 "#PWR?" H 6450 6940 20  0001 C CNN
F 1 "+5V" H 6450 6940 30  0000 C CNN
F 2 "" H 6450 6850 60  0000 C CNN
F 3 "" H 6450 6850 60  0000 C CNN
	1    6450 6850
	1    0    0    -1  
$EndComp
Wire Wire Line
	6750 6950 6750 6900
Wire Wire Line
	6750 6900 6450 6900
Wire Wire Line
	6450 6850 6450 7350
Wire Wire Line
	6450 7350 6350 7350
Connection ~ 6450 6900
Wire Wire Line
	4300 2950 4500 2950
Text Label 4500 2950 0    60   ~ 0
TX3
$Comp
L R R1
U 1 1 547CC103
P 850 6600
F 0 "R1" V 930 6600 40  0000 C CNN
F 1 "1.96k" V 857 6601 40  0000 C CNN
F 2 "" V 780 6600 30  0000 C CNN
F 3 "" H 850 6600 30  0000 C CNN
	1    850  6600
	1    0    0    -1  
$EndComp
$Comp
L LED D1
U 1 1 547CC132
P 850 7200
F 0 "D1" H 850 7300 50  0000 C CNN
F 1 "LED" H 850 7100 50  0000 C CNN
F 2 "" H 850 7200 60  0000 C CNN
F 3 "" H 850 7200 60  0000 C CNN
	1    850  7200
	0    1    1    0   
$EndComp
$Comp
L GND #PWR?
U 1 1 547CC155
P 850 7650
F 0 "#PWR?" H 850 7650 30  0001 C CNN
F 1 "GND" H 850 7580 30  0001 C CNN
F 2 "" H 850 7650 60  0000 C CNN
F 3 "" H 850 7650 60  0000 C CNN
	1    850  7650
	1    0    0    -1  
$EndComp
$Comp
L +5V #PWR?
U 1 1 547CC169
P 850 6200
F 0 "#PWR?" H 850 6290 20  0001 C CNN
F 1 "+5V" H 850 6290 30  0000 C CNN
F 2 "" H 850 6200 60  0000 C CNN
F 3 "" H 850 6200 60  0000 C CNN
	1    850  6200
	1    0    0    -1  
$EndComp
Wire Wire Line
	850  6200 850  6350
Wire Wire Line
	850  6850 850  7000
Wire Wire Line
	850  7400 850  7650
$Comp
L CONV_DC_DC REG1
U 1 1 547CC3CC
P 6800 850
F 0 "REG1" H 7000 550 60  0000 C CNN
F 1 "CONV_DC_DC" H 6800 950 60  0000 C CNN
F 2 "" H 6800 850 60  0000 C CNN
F 3 "" H 6800 850 60  0000 C CNN
	1    6800 850 
	1    0    0    -1  
$EndComp
$Comp
L VAA #PWR?
U 1 1 547CC477
P 6200 700
F 0 "#PWR?" H 6200 760 30  0001 C CNN
F 1 "VAA" H 6200 810 30  0000 C CNN
F 2 "" H 6200 700 60  0000 C CNN
F 3 "" H 6200 700 60  0000 C CNN
	1    6200 700 
	1    0    0    -1  
$EndComp
$Comp
L C C1
U 1 1 547CC49D
P 6150 1100
F 0 "C1" H 6150 1200 40  0000 L CNN
F 1 "10uF" H 6156 1015 40  0000 L CNN
F 2 "" H 6188 950 30  0000 C CNN
F 3 "" H 6150 1100 60  0000 C CNN
	1    6150 1100
	1    0    0    -1  
$EndComp
$Comp
L C C2
U 1 1 547CC4BC
P 7450 1100
F 0 "C2" H 7450 1200 40  0000 L CNN
F 1 "10uF" H 7456 1015 40  0000 L CNN
F 2 "" H 7488 950 30  0000 C CNN
F 3 "" H 7450 1100 60  0000 C CNN
	1    7450 1100
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR?
U 1 1 547CC4E0
P 6800 1450
F 0 "#PWR?" H 6800 1450 30  0001 C CNN
F 1 "GND" H 6800 1380 30  0001 C CNN
F 2 "" H 6800 1450 60  0000 C CNN
F 3 "" H 6800 1450 60  0000 C CNN
	1    6800 1450
	1    0    0    -1  
$EndComp
Wire Wire Line
	6800 1200 6800 1450
Wire Wire Line
	6150 1300 6150 1350
Wire Wire Line
	6150 1350 7450 1350
Connection ~ 6800 1350
Wire Wire Line
	7450 1350 7450 1300
Wire Wire Line
	6150 900  6150 850 
Wire Wire Line
	6150 850  6400 850 
Wire Wire Line
	7200 850  7700 850 
Wire Wire Line
	7450 900  7450 850 
Connection ~ 7450 850 
Text Label 7700 850  0    60   ~ 0
V_IN
Wire Wire Line
	6200 700  6200 850 
Connection ~ 6200 850 
$Comp
L ENCODER_C14 E1
U 1 1 547CCE47
P 1550 6950
F 0 "E1" H 1550 6600 60  0000 C CNN
F 1 "ENCODER_C14" H 1550 7300 60  0000 C CNN
F 2 "" H 1550 6950 60  0000 C CNN
F 3 "" H 1550 6950 60  0000 C CNN
	1    1550 6950
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR?
U 1 1 547CCEC8
P 2100 7350
F 0 "#PWR?" H 2100 7350 30  0001 C CNN
F 1 "GND" H 2100 7280 30  0001 C CNN
F 2 "" H 2100 7350 60  0000 C CNN
F 3 "" H 2100 7350 60  0000 C CNN
	1    2100 7350
	1    0    0    -1  
$EndComp
Wire Wire Line
	1700 7200 2100 7200
Wire Wire Line
	2100 7200 2100 7350
Wire Wire Line
	1700 7100 1800 7100
Wire Wire Line
	1700 7000 1800 7000
$Comp
L +5V #PWR?
U 1 1 547CCFDF
P 2750 6500
F 0 "#PWR?" H 2750 6590 20  0001 C CNN
F 1 "+5V" H 2750 6590 30  0000 C CNN
F 2 "" H 2750 6500 60  0000 C CNN
F 3 "" H 2750 6500 60  0000 C CNN
	1    2750 6500
	1    0    0    -1  
$EndComp
$Comp
L R R2
U 1 1 547CD03F
P 2400 7050
F 0 "R2" V 2480 7050 40  0000 C CNN
F 1 "5.1k" V 2407 7051 40  0000 C CNN
F 2 "" V 2330 7050 30  0000 C CNN
F 3 "" H 2400 7050 30  0000 C CNN
	1    2400 7050
	1    0    0    -1  
$EndComp
$Comp
L R R3
U 1 1 547CD062
P 2650 7050
F 0 "R3" V 2730 7050 40  0000 C CNN
F 1 "5.1k" V 2657 7051 40  0000 C CNN
F 2 "" V 2580 7050 30  0000 C CNN
F 3 "" H 2650 7050 30  0000 C CNN
	1    2650 7050
	1    0    0    -1  
$EndComp
Wire Wire Line
	1700 6700 2750 6700
Wire Wire Line
	2750 6700 2750 6500
Wire Wire Line
	2650 6800 2650 6700
Connection ~ 2650 6700
Wire Wire Line
	2400 6800 2400 6700
Connection ~ 2400 6700
Wire Wire Line
	1700 6800 2300 6800
Wire Wire Line
	2300 6800 2300 7350
Wire Wire Line
	2300 7350 2900 7350
Wire Wire Line
	1700 6900 2250 6900
Wire Wire Line
	2250 6900 2250 7450
Wire Wire Line
	2250 7450 2900 7450
Text Label 1800 7000 0    60   ~ 0
ENC_BTN
Text Label 2900 7350 0    60   ~ 0
ENC_A
Text Label 2900 7450 0    60   ~ 0
ENC_B
Wire Wire Line
	2400 7300 2400 7350
Connection ~ 2400 7350
Wire Wire Line
	2650 7300 2650 7450
Connection ~ 2650 7450
Wire Wire Line
	4300 2550 4500 2550
Text Label 4500 2550 0    60   ~ 0
ENC_A
Wire Wire Line
	4300 2450 4500 2450
Text Label 4500 2450 0    60   ~ 0
ENC_B
Wire Wire Line
	1800 7100 1800 7200
Connection ~ 1800 7200
$Comp
L MAX6817 U1
U 1 1 547CE85B
P 4850 6950
F 0 "U1" H 5100 6700 60  0000 C CNN
F 1 "MAX6817" H 4850 7550 60  0000 C CNN
F 2 "" H 4850 6950 60  0000 C CNN
F 3 "" H 4850 6950 60  0000 C CNN
	1    4850 6950
	1    0    0    -1  
$EndComp
Wire Wire Line
	4450 6700 4050 6700
Text Label 4050 6700 0    60   ~ 0
ENC_BTN
Wire Wire Line
	5250 6700 5450 6700
Text Label 5450 6700 0    60   ~ 0
D_ENC_BTN
$Comp
L GND #PWR?
U 1 1 547CEB52
P 4850 7400
F 0 "#PWR?" H 4850 7400 30  0001 C CNN
F 1 "GND" H 4850 7330 30  0001 C CNN
F 2 "" H 4850 7400 60  0000 C CNN
F 3 "" H 4850 7400 60  0000 C CNN
	1    4850 7400
	1    0    0    -1  
$EndComp
Wire Wire Line
	4850 7250 4850 7400
NoConn ~ 4450 6950
NoConn ~ 5250 6950
$Comp
L C C4
U 1 1 547CEC68
P 5700 6100
F 0 "C4" H 5700 6200 40  0000 L CNN
F 1 "0.1uF" H 5706 6015 40  0000 L CNN
F 2 "" H 5738 5950 30  0000 C CNN
F 3 "" H 5700 6100 60  0000 C CNN
	1    5700 6100
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR?
U 1 1 547CEC89
P 5700 6450
F 0 "#PWR?" H 5700 6450 30  0001 C CNN
F 1 "GND" H 5700 6380 30  0001 C CNN
F 2 "" H 5700 6450 60  0000 C CNN
F 3 "" H 5700 6450 60  0000 C CNN
	1    5700 6450
	1    0    0    -1  
$EndComp
Wire Wire Line
	5700 6300 5700 6450
$Comp
L +5V #PWR?
U 1 1 547CED48
P 5700 5700
F 0 "#PWR?" H 5700 5790 20  0001 C CNN
F 1 "+5V" H 5700 5790 30  0000 C CNN
F 2 "" H 5700 5700 60  0000 C CNN
F 3 "" H 5700 5700 60  0000 C CNN
	1    5700 5700
	1    0    0    -1  
$EndComp
Wire Wire Line
	5700 5700 5700 5900
Wire Wire Line
	5700 5800 5450 5800
Wire Wire Line
	5450 5800 5450 6450
Wire Wire Line
	5450 6450 5250 6450
Connection ~ 5700 5800
Wire Wire Line
	4300 3450 4500 3450
Text Label 4500 3450 0    60   ~ 0
D_ENC_BTN
NoConn ~ 9150 1450
NoConn ~ 9150 1550
NoConn ~ 9150 1650
NoConn ~ 9150 2050
NoConn ~ 9150 2450
Wire Wire Line
	4300 4150 4500 4150
Wire Wire Line
	4300 4250 4500 4250
Wire Wire Line
	4300 4350 4500 4350
Wire Wire Line
	4300 4450 4500 4450
Text Label 4500 4150 0    60   ~ 0
PURGE_A
Text Label 4500 4250 0    60   ~ 0
VALVE_OFF_A
Text Label 4500 4350 0    60   ~ 0
PURGE_B
Text Label 4500 4450 0    60   ~ 0
VALVE_OFF_B
Wire Wire Line
	9150 1950 8450 1950
Text Label 8450 1950 0    60   ~ 0
PURGE_A
Wire Wire Line
	9150 1850 8450 1850
Text Label 8450 1850 0    60   ~ 0
VALVE_OFF_A
Wire Wire Line
	9150 1750 9100 1750
Wire Wire Line
	9100 1750 9100 2800
Wire Wire Line
	9150 2550 9100 2550
Connection ~ 9100 2550
Wire Wire Line
	9150 2150 9100 2150
Connection ~ 9100 2150
Wire Wire Line
	9150 2250 9100 2250
Connection ~ 9100 2250
NoConn ~ 9150 1250
Wire Wire Line
	9150 1150 8450 1150
Text Label 8450 1150 0    60   ~ 0
ANALOG_OUT_A
$Comp
L VAA #PWR?
U 1 1 547D15DD
P 8850 1300
F 0 "#PWR?" H 8850 1360 30  0001 C CNN
F 1 "VAA" H 8850 1410 30  0000 C CNN
F 2 "" H 8850 1300 60  0000 C CNN
F 3 "" H 8850 1300 60  0000 C CNN
	1    8850 1300
	1    0    0    -1  
$EndComp
Wire Wire Line
	9150 1350 9000 1350
Wire Wire Line
	9000 1350 9000 1450
Wire Wire Line
	9000 1450 8850 1450
Wire Wire Line
	8850 1450 8850 1300
Wire Wire Line
	9150 2350 8450 2350
Text Label 8450 2350 0    60   ~ 0
ANALOG_IN_A
$EndSCHEMATC
